{"version":3,"sources":["assets/js/main.js"],"names":["$siteList","$","$lastLi","find","site","localStorage","getItem","initialSite","logo","url","logoType","title","simplifyUrl","replace","hashMap","JSON","parse","renderSiteList","remove","map","index","$li","insertBefore","on","e","splice","stopPropagation","preventDefault","renderModal","$modal","appendTo","webSite","val","indexOf","window","onbeforeunload","setItem","stringify"],"mappings":"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","file":"main.08a48f42.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList');\nconst $lastLi = $siteList.find('.last');\nconst site = localStorage.getItem('site');\nconst initialSite = [\n  {\n    logo: 'https://cdn4.iconfinder.com/data/icons/logos-and-brands/512/44_Bitbucket_logo_logos-512.png',\n    url: 'https://bitbucket.org/',\n    logoType: 'image',\n    title: 'bitbucket.org'\n  },\n  {\n    logo: 'https://wac-cdn.atlassian.com/dam/jcr:89e146b4-642e-41fc-8e65-7848337d7bdd/Atlassian-icon-blue-onecolor@2x.png',\n    url: 'https://baopalsdev.atlassian.net/',\n    logoType: 'image',\n    title: 'atlassian.net'\n  }\n];\nconst simplifyUrl = (url) => {\n  return url.replace('https://', '')\n    .replace('http://', '')\n    .replace('www.', '')\n    .replace(/\\/.*/, '')\n}\nlet hashMap = JSON.parse(site) || initialSite;\n\nconst renderSiteList = () => {\n  $siteList.find('li:not(.last)').remove();\n\n  hashMap.map(({ logo, url, logoType, title }, index) => {\n    const $li = $(`<li>\n      <a href='${url}'>\n        <div class=\"site\">\n          <div class=\"logo\">\n            ${logoType === 'image' ? `<img src = ${logo} />` : logo}\n          </div>\n          <div class=\"link\">${title}</div>\n          <div class=\"close\">\n            <svg class=\"icon\">\n              <use xlink:href=\"#icon-close\"></use>\n            </svg>\n          </div>\n        </div>\n      </a>\n    </li>`).insertBefore($lastLi)\n\n    $li.on('click', '.close', (e) => {\n      hashMap.splice(index, 1);\n      renderSiteList();\n\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  });\n};\n\nconst renderModal = () => {\n  const $modal  = $(`<modal class=\"modalContainer\">\n    <div class=\"modalWrapper\">\n      <form class=\"modalForm\">\n        <label>Website Address</label>\n        <input type=\"text\" name=\"address\" placeholder=\"Please enter website address\" />\n        <label>Website Logo</label>\n        <input type=\"text\" name=\"logo\" placeholder=\"Please enter website logo address\" />\n        <label>Website Title</label>\n        <input type=\"text\" name=\"title\" placeholder=\"Please enter website title\" />\n        <button type=\"submit\">\n          Submit\n        </button>\n      </form>\n      <div class=\"close\">\n        <svg class=\"icon\">\n          <use xlink:href=\"#icon-close\"></use>\n        </svg>\n      </div>\n    </div>\n  </modal>`).appendTo('body')\n\n  $modal.on('click', '.close', () => {\n    $modal.remove();\n  })\n\n  $modal.on('click', 'button', () => {\n    let webSite = {};\n    let url = $(\" input[ name='address' ] \").val();\n\n    if(url.indexOf('http') !== 0) {\n      url = `https://${url}`\n    }\n\n    webSite['title'] = $(\" input[ name='title' ] \").val();\n    webSite['url'] = url\n    webSite['logo'] = $(\" input[ name='logo' ] \").val() || simplifyUrl(url)[0];\n    webSite['logoType'] = $(\" input[ name='logo' ] \").val() ? 'image' : 'text';\n\n    hashMap = [...hashMap, webSite];\n\n    $modal.remove();\n    renderSiteList();\n  })\n};\n\nrenderSiteList();\n\n\n$('.addButton').on('click', () => {\n  renderModal();\n});\n\nwindow.onbeforeunload = () => {\n  localStorage.setItem('site', JSON.stringify(hashMap))\n};\n"]}